{
    "collab_server" : "",
    "contents" : "library(dplyr)\nlibrary(ggplot2)\n\nr <- read.table(\"data/perspective_taking-data.dat\", header=FALSE)\ncolnames(r) <- c(\"daycare\",\"age\",\"score\")\nr_clean <- r %>%\n  arrange(score)\nr_clean\n\nr.plot = ggplot(r_clean,aes(x=c(1:40))) +\n  geom_smooth(aes(y= score)) \n  geom_point(aes(y = mean(r_clean$score)))\n  \nr.plot\n\nstr(r_clean)\n\nr_clean <- r %>%\n  mutate(age.f = factor(r_clean$age,levels=c(1,2),\n                        labels = c(\"Young\",\"Old\"))) %>%\n  mutate(daycare.f = factor(r_clean$daycare,levels=c(1,2),\n                            labels = c(\"No Daycare Experience\",\n                                       \"Daycare Experience\"))) %>%\n  mutate(id = factor(1:40)) %>%\n  mutate(treatment=paste(r_clean$age.f,r_clean$daycare.f,sep=\"-\"))\nr_clean\nstr(r_clean)\nsummary(r_clean)\n\nxtabs(~daycare.f+age.f, data=r_clean)\nxtabs(score~daycare.f+age.f,data=r_clean)\n#Same as above^^\nr_clean %>%\n  xtabs(~daycare.f+age.f,data=.)\n\n### BUILD SUBSETS ####\n# Uncrossed groups\ndata_daycare <- r_clean %>%\n  filter(daycare == 2)\n\ndata_nodaycare <- r_clean %>%\n  filter(daycare == 1)\n\ndata_young <- r_clean %>%\n  filter(age==1)\ndata_old <- r_clean %>%\n  filter(age==2)\n\n# Crossed groups\ndata_old_daycare <- r_clean %>%\n  filter(age==2) %>%\n  filter(daycare == 2)\n\ndata_young_daycare <- r_clean %>%\n  filter(age==1) %>%\n  filter(daycare == 2) \n\ndata_old_nodaycare <- r_clean %>%\n  filter(age==2) %>%\n  filter(daycare == 1)\n  \ndata_young_nodaycare <- r %>%\n  filter(age==1) %>%\n  filter(daycare == 1)\n  \n### DESCRIPTIVE STATS FOR SUBGROUPS ####\n# Sample Size\ndaycare_n <- dim(data_daycare)[[1]]\nnodaycare_n <- dim(data_nodaycare)[[1]]\nyoung_n <- dim(data_young)[[1]]\nold_n <- dim(data_old)[[1]]\n\n# Mean\ndaycare_mean <- mean(data_daycare$score)\nnodaycare_mean <- mean(data_nodaycare$score)\nyoung_mean <- mean(data_young$score)\nold_mean <- mean(data_old$score)\n\n# Standard Deviation\ndaycare_sd <- sd(data_daycare$score)\nnodaycare_sd <- sd(data_nodaycare$score)\nyoung_sd <- sd(data_young$score)\nold_sd <- sd(data_old$score)\n\n# Range\ndaycare_range <- range(data_daycare$score)[[2]]-range(data_daycare$score)[[1]]\nnodaycare_range <- range(data_nodaycare$score)[[2]]-range(data_nodaycare$score)[[1]]\nyoung_range <- range(data_young$score)[[2]]-range(data_young$score)[[1]]\nold_range <- range(data_old$score)[[2]]-range(data_old$score)[[1]]\n\n### DESCRIPTIVE STATS FOR CROSS ####\n# Sample Size\nold_daycare_n <- dim(data_old_daycare)[[1]]\nold_nodaycare_n <- dim(data_old_nodaycare)[[1]]\nyoung_daycare_n <- dim(data_young_daycare)[[1]]\nyoung_nodaycare_n <- dim(data_young_nodaycare)[[1]]\n\n# Mean\nold_daycare_mean <- mean(data_old_daycare$score)\nold_nodaycare_mean <- mean(data_old_nodaycare$score)\nyoung_daycare_mean <- mean(data_young_daycare$score)\nyoung_nodaycare_mean <- mean(data_young_nodaycare$score)\n\n# Standard Deviation\nold_daycare_sd <- sd(data_old_daycare$score)\nold_nodaycare_sd <- sd(data_old_nodaycare$score)\nyoung_daycare_sd <- sd(data_young_daycare$score)\nyoung_nodaycare_sd <- sd(data_young_nodaycare$score)\n\n# Range\nold_daycare_range <- range(data_old_daycare$score)[[2]]-range(data_old_daycare$score)[[1]]\nold_nodaycare_range <- range(data_old_nodaycare$score)[[2]]-range(data_old_nodaycare$score)[[1]]\nyoung_daycare_range <- range(data_young_daycare$score)[[2]]-range(data_young_daycare$score)[[1]]\nyoung_nodaycare_range <- range(data_young_nodaycare$score)[[2]]-range(data_young_nodaycare$score)[[1]]\n\n### BUILD TABLES ####\ntable_daycare <- matrix(\n  c(daycare_n,nodaycare_n,\n    daycare_mean,nodaycare_mean,\n    daycare_sd,nodaycare_sd,\n    daycare_range,nodaycare_range),\n  nrow=2, ncol=4\n)\ncolnames(table_daycare) <- c(\"Sample Size\",\"Mean\",\"Standard Deviation\",\"Range\")\nrownames(table_daycare) <- c(\"Daycare Experience\", \"No Daycare Experience\")\n  \ntable_age <-matrix(\n  c(young_n,old_n,\n    young_mean,old_mean,\n    young_sd,old_sd,\n    young_range,old_range),\n  nrow=2, ncol=4\n)\ncolnames(table_age) <- c(\"Sample Size\",\"Mean\",\"Standard Deviation\",\"Range\")\nrownames(table_age) <- c(\"Younger\", \"Older\")\n\ntable_cross <-matrix(\n  c(young_daycare_n,old_daycare_n,young_nodaycare_n,old_nodaycare_n,\n    young_daycare_mean,old_daycare_mean,young_nodaycare_mean,old_nodaycare_mean,\n    young_daycare_sd,old_daycare_sd,young_nodaycare_sd,old_nodaycare_sd,\n    young_daycare_range,old_daycare_range,young_nodaycare_range,old_nodaycare_range),\n  nrow=4, ncol=4\n)\ncolnames(table_cross) <- c(\"Sample Size\",\"Mean\",\"Standard Deviation\",\"Range\")\nrownames(table_cross) <- c(\"Younger with Daycare Experience\", \"Older with Daycare Experience\",\n                           \"Younger with No Daycare Experience\",\"Older with No Daycare Experience\")\n\n### TABLES THE RIGHT WAY ####\nage_summary <- r_clean %>%\n  group_by(age.f) %>%\n  summarise(mean=mean(score),\n            sd=sd(score),\n            min=min(score),\n            max=max(score),\n            range=max-min) %>%\n  ungroup()\n  \ndaycare_summary <- r_clean %>%\n  group_by(daycare.f) %>%\n  summarise(mean=mean(score),\n            sd=sd(score),\n            min=min(score),\n            max=max(score),\n            range=max-min) %>%\n  ungroup()\n\ncrossed_summary <- r_clean %>%\n  group_by(daycare.f,age.f) %>%\n  summarise(mean=mean(score),\n            sd=sd(score),\n            min=min(score),\n            max=max(score),\n            range=max-min) %>%\n  ungroup()\ncrossed_summary\n",
    "created" : 1508232779426.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2529230218",
    "id" : "3DF54D2F",
    "lastKnownWriteTime" : 1508838123,
    "last_content_update" : 1508838123623,
    "path" : "~/Documents/cogmaster/AS/perspective_taking/scripts/persp_taking_data_cleaner.R",
    "project_path" : "scripts/persp_taking_data_cleaner.R",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}